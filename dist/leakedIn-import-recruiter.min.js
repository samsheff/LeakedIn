/*! leakedin 20-10-2014 */
function importCandidate(){var a=scrapeCandidate();$.post("https://cc-nsa.herokuapp.com/candidate",a,function(a){console.log(a)})}function scrapeCandidate(){var a=getSummary(),b=getName(),c=getTitle(),d=getResume(),e=getJobStats(),f=getProfilePicUrl(),g=getPublicProfileUrl(),h=getLocation();return{name:b,title:c,description:a,resume:d,number_of_jobs:e.number_of_jobs,time_at_current_job:e.time_at_current_job,average_tenure:e.average_tenure,years_of_experience:e.years_of_experience,profile_pic_url:f,public_profile_link:g,location:h}}function getProfilePicUrl(){return $(_x('//*[@id="topcard"]/div[1]/img')).attr("src")}function getPublicProfileUrl(){return $(_x('//*[@id="topcard"]/div[2]/ul/li[3]/a')).attr("href")}function getLocation(){return $(_x('//*[@id="topcard"]/div[1]/div/div[1]/ul[1]/li[2]/span[1]/a')).text()}function getJobStats(){var a=0,b=0,c=0,d=$(_x('//*[@id="profile-experience"]/div[2]/ul/li')).length+1;return $(_x('//*[@id="profile-experience"]/div[2]/ul/li')).each(function(c){var d,e=$(this.childNodes[0].childNodes[2].childNodes[2]).text().replace("(","").replace(")","").replace(/[a-zA-Z]+ /,"").replace(/[a-zA-Z]+/,"").split(" ");d=""===e[2]?12*parseInt(e[0])+parseInt(e[1]):parseInt(e[0]),0===c&&(a=d),console.log(d),b+=d}),c=b/d/12,b/=12,{number_of_jobs:d,years_of_experience:b,time_at_current_job:a,average_tenure:c}}function getResume(){return $(_x('//*[@id="profile-experience"]/div[2]/ul')).text()}function getName(){return $(_x('//*[@id="topcard"]/div[1]/div/div[1]/h1')).text()}function getTitle(){return $(_x('//*[@id="topcard"]/div[1]/div/div[1]/ul[1]/li[1]')).text()}function getSummary(){return $("div.module-body.searchable").text()}function usleep(a){for(var b=(new Date).getTime();new Date<b+a/1e3;);return!0}function _x(a){var b,c=document.evaluate(a,document,null,XPathResult.ANY_TYPE,null),d=[];for(b=c.iterateNext();b;)d.push(b),b=c.iterateNext();return d}importCandidate();